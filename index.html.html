<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paw-sitive Vibes üêæ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #FF8C42;
            --secondary: #FFD166;
            --accent: #EF476F;
            --background: #FFFCF9;
            --text: #333333;
            --card-bg: #FFFFFF;
            --shadow: rgba(255, 140, 66, 0.2);
            --transition: all 0.3s ease;
            --pattern-opacity: 0.05;
        }

        .spooky-theme {
            --primary: #5B8FB9;
            --secondary: #6D67CF;
            --accent: #B6EADA;
            --background: #03001C;
            --text: #F6F6F6;
            --card-bg: #1E1E2E;
            --shadow: rgba(91, 143, 185, 0.2);
            --pattern-opacity: 0.08;
        }

        .game-theme {
            --primary: #7EC4CF;
            --secondary: #B5EAD7;
            --accent: #FF9AA2;
            --background: #F0FFF0;
            --text: #2D5016;
            --card-bg: #FFFFFF;
            --shadow: rgba(126, 196, 207, 0.3);
            --pattern-opacity: 0.06;
        }

        .facts-theme {
            --primary: #FF69B4;
            --secondary: #FFB6C1;
            --accent: #FF1493;
            --background: #FFF0F5;
            --text: #8B008B;
            --card-bg: #FFFFFF;
            --shadow: rgba(255, 105, 180, 0.3);
            --pattern-opacity: 0.08;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background);
            color: var(--text);
            transition: var(--transition);
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        .background-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -2;
            opacity: var(--pattern-opacity);
        }

        .royal-pattern {
            background-image: 
                radial-gradient(circle at 25% 25%, var(--primary) 2px, transparent 2px),
                radial-gradient(circle at 75% 75%, var(--accent) 2px, transparent 2px);
            background-size: 50px 50px;
            display: block;
        }

        .spooky-pattern {
            background-image: 
                radial-gradient(circle at 10% 20%, var(--secondary) 1px, transparent 1px),
                radial-gradient(circle at 90% 80%, var(--accent) 1px, transparent 1px);
            background-size: 60px 60px;
            display: none;
        }

        .game-pattern {
            background-image: 
                radial-gradient(circle at 20% 30%, var(--primary) 2px, transparent 2px),
                radial-gradient(circle at 80% 70%, var(--accent) 2px, transparent 2px);
            background-size: 40px 40px;
            display: none;
        }

        .facts-pattern {
            background-image: 
                radial-gradient(circle at 15% 25%, #FF69B4 3px, transparent 3px),
                radial-gradient(circle at 85% 75%, #FFB6C1 3px, transparent 3px),
                radial-gradient(circle at 50% 50%, #FF1493 2px, transparent 2px);
            background-size: 60px 60px, 80px 80px, 40px 40px;
            display: none;
        }

        .spooky-theme .royal-pattern {
            display: none;
        }

        .spooky-theme .spooky-pattern {
            display: block;
        }

        .game-theme .royal-pattern {
            display: none;
        }

        .game-theme .game-pattern {
            display: block;
        }

        .facts-theme .royal-pattern {
            display: none;
        }

        .facts-theme .facts-pattern {
            display: block;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        header {
            text-align: center;
            padding: 30px 0;
            position: relative;
        }

        h1 {
            font-size: 3.5rem;
            margin-bottom: 10px;
            color: var(--primary);
            text-shadow: 2px 2px 4px var(--shadow);
        }

        .subtitle {
            font-size: 1.2rem;
            margin-bottom: 30px;
            color: var(--text);
            opacity: 0.8;
        }

        .cat-emoji {
            font-size: 2.5rem;
            display: inline-block;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: bold;
            transition: var(--transition);
            box-shadow: 0 4px 8px var(--shadow);
        }

        .theme-toggle:hover {
            transform: scale(1.05);
            background: var(--accent);
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 20px var(--shadow);
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px var(--shadow);
            border-color: var(--primary);
        }

        .card h2 {
            color: var(--primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quote-container {
            text-align: center;
            padding: 20px;
        }

        .quote {
            font-size: 1.8rem;
            font-style: italic;
            margin-bottom: 20px;
            line-height: 1.5;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 8px var(--shadow);
        }

        .btn:hover {
            background: var(--accent);
            transform: scale(1.05);
        }

        .btn-secondary {
            background: var(--secondary);
            color: var(--text);
        }

        .btn-secondary:hover {
            background: #FFC145;
        }

        .btn-success {
            background: #4CAF50;
            color: white;
        }

        .btn-success:hover {
            background: #45a049;
        }

        .notes-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .note-input {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .note-input input, .note-input textarea {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid var(--primary);
            border-radius: 10px;
            background: var(--card-bg);
            color: var(--text);
            font-size: 1rem;
        }

        .note-input textarea {
            min-height: 100px;
            resize: vertical;
        }

        .notes-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-height: 300px;
            overflow-y: auto;
            padding-right: 5px;
        }

        .note-item {
            background: var(--secondary);
            padding: 12px 15px;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .note-text {
            flex: 1;
        }

        .delete-note {
            background: var(--accent);
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .delete-note:hover {
            transform: scale(1.1);
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .feature-card {
            text-align: center;
            padding: 25px 20px;
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .cat-fact-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--card-bg);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            z-index: 100;
            max-width: 500px;
            width: 90%;
            text-align: center;
            border: 3px solid var(--primary);
        }

        .cat-fact-popup.show {
            display: block;
            animation: popIn 0.5s ease;
        }

        @keyframes popIn {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
           100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }

        .close-popup {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--accent);
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 99;
        }

        .overlay.show {
            display: block;
        }

        footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 1px solid var(--primary);
            color: var(--text);
            opacity: 0.7;
        }

        .floating-elements {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: -1;
        }

        .crowned-cat, .ghost, .pink-cat {
            position: absolute;
            font-size: 2rem;
            opacity: 0.15;
            animation: float 20s infinite linear;
        }

        .crowned-cat::after {
            content: "üëë";
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1rem;
        }

        .ghost {
            display: none;
        }

        .pink-cat {
            display: none;
        }

        .spooky-theme .crowned-cat {
            display: none;
        }

        .spooky-theme .ghost {
            display: block;
        }

        .facts-theme .crowned-cat,
        .facts-theme .ghost {
            display: none;
        }

        .facts-theme .pink-cat {
            display: block;
        }

        .game-theme .crowned-cat,
        .game-theme .ghost,
        .game-theme .pink-cat {
            display: none;
        }

        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); }
            100% { transform: translateY(-100vh) rotate(360deg); }
        }

        /* Registration & Login Page Styles */
        .auth-container {
            display: none;
            max-width: 500px;
            margin: 40px auto;
            padding: 30px;
        }

        .auth-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 30px var(--shadow);
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .auth-card h2 {
            color: var(--primary);
            margin-bottom: 25px;
            font-size: 2.2rem;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text);
        }

        .form-group input {
            width: 100%;
            padding: 14px;
            border: 2px solid var(--primary);
            border-radius: 10px;
            background: var(--card-bg);
            color: var(--text);
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px var(--shadow);
        }

        .form-footer {
            margin-top: 25px;
            text-align: center;
        }

        .auth-link {
            margin-top: 20px;
            color: var(--text);
        }

        .auth-link a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
        }

        .auth-link a:hover {
            text-decoration: underline;
        }

        .user-info {
            position: absolute;
            top: 20px;
            left: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .user-name {
            font-weight: 600;
            color: var(--primary);
        }

        .logout-btn {
            background: transparent;
            border: none;
            color: var(--text);
            cursor: pointer;
            font-size: 0.9rem;
            text-decoration: underline;
        }

        .welcome-message {
            text-align: center;
            margin: 20px 0;
            font-size: 1.2rem;
            color: var(--primary);
            font-weight: 600;
        }

        .dashboard-btn {
            position: absolute;
            top: 20px;
            left: 180px;
        }

        /* Dashboard Styles */
        .dashboard-container {
            display: none;
            max-width: 1000px;
            margin: 0 auto;
        }

        .dashboard-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .dashboard-notes {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .dashboard-note {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px var(--shadow);
            border-left: 5px solid var(--primary);
            position: relative;
        }

        .dashboard-delete-note {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--accent);
            color: white;
            border: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            transition: var(--transition);
        }

        .dashboard-delete-note:hover {
            transform: scale(1.1);
        }

        .sticker-picker {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .sticker {
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .sticker:hover {
            transform: scale(1.2);
        }

        .note-with-sticker {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .image-preview {
            max-width: 100%;
            max-height: 200px;
            border-radius: 10px;
            margin-top: 10px;
        }

        /* Kitty Jump Game Styles */
        .game-container {
            display: none;
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .game-header {
            margin-bottom: 30px;
        }

        .game-area {
            position: relative;
            width: 100%;
            height: 400px;
            background: #FFE6F2;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 20px var(--shadow);
            margin-bottom: 20px;
            border: 3px solid var(--primary);
        }

        #kitty {
            position: absolute;
            bottom: 50px;
            left: 100px;
            font-size: 3rem;
            z-index: 10;
            transition: bottom 0.3s;
            width: 60px;
            height: 60px;
        }

        .obstacle {
            position: absolute;
            bottom: 50px;
            font-size: 2.5rem;
            width: 50px;
            height: 50px;
        }

        .ground {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 50px;
            background: var(--primary);
        }

        .score-display {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
        }

        .score, .high-score {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
            padding: 10px 20px;
            background: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 4px 8px var(--shadow);
        }

        .game-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .game-instructions {
            margin-top: 20px;
            padding: 15px;
            background: var(--secondary);
            border-radius: 10px;
            text-align: left;
        }

        .game-instructions h3 {
            color: var(--primary);
            margin-bottom: 10px;
        }

        .game-instructions ul {
            padding-left: 20px;
        }

        .game-instructions li {
            margin-bottom: 5px;
        }

        .game-over {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            z-index: 100;
            width: 80%;
            max-width: 400px;
        }

        .avatar-selector {
            margin: 20px 0;
            padding: 15px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
        }

        .avatar-options {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .avatar-option {
            font-size: 2rem;
            cursor: pointer;
            padding: 5px;
            border-radius: 10px;
            transition: var(--transition);
        }

        .avatar-option:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.1);
        }

        .avatar-option.selected {
            background: var(--primary);
            transform: scale(1.1);
        }

        .avatar-option.locked {
            opacity: 0.5;
            cursor: not-allowed;
            position: relative;
        }

        .avatar-option.locked::after {
            content: "üîí";
            position: absolute;
            top: -5px;
            right: -5px;
            font-size: 1rem;
        }

        /* Cat Facts Page Styles */
        .facts-container {
            display: none;
            max-width: 800px;
            margin: 0 auto;
        }

        .facts-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .fact-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 20px var(--shadow);
            margin-bottom: 30px;
            text-align: center;
            border: 3px solid var(--primary);
        }

        .fact-text {
            font-size: 1.5rem;
            line-height: 1.6;
            margin-bottom: 25px;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .fact-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .cat-decorations {
            display: flex;
            justify-content: space-around;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .cat-decoration {
            font-size: 3rem;
            animation: gentleFloat 3s ease-in-out;
        }

        @keyframes gentleFloat {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-15px);
            }
        }
    </style>
</head>
<body>
    <!-- Background Patterns -->
    <div class="background-pattern royal-pattern"></div>
    <div class="background-pattern spooky-pattern"></div>
    <div class="background-pattern game-pattern"></div>
    <div class="background-pattern facts-pattern"></div>
    
    <!-- Floating Elements -->
    <div class="floating-elements" id="floatingElements"></div>
    
    <!-- User Info (shown when logged in) -->
    <div class="user-info" id="userInfo" style="display: none;">
        <div class="user-avatar" id="userAvatar">U</div>
        <div>
            <div class="user-name" id="userName">User</div>
            <button class="logout-btn" id="logoutBtn">Logout</button>
        </div>
    </div>
    
    <div class="container">
        <!-- Main Content (shown when logged in) -->
        <div id="mainContent" style="display: none;">
            <header>
                <h1>Paw-sitive Vibes <span class="cat-emoji">üêæ</span></h1>
                <p class="subtitle">Your daily dose of motivation with a purr-fect twist!</p>
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i> Switch to Spooky Blue
                </button>
                <button class="btn dashboard-btn" id="dashboardBtn">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </button>
            </header>

            <div class="welcome-message" id="welcomeMessage">
                Welcome to Paw-sitive Vibes! Get your daily dose of motivation üòä
            </div>

            <div class="main-content">
                <div class="card">
                    <h2><i class="fas fa-quote-left"></i> Daily Motivation</h2>
                    <div class="quote-container">
                        <div class="quote" id="quote">
                            "Every day may not be good, but there's something good in every day."
                        </div>
                        <button class="btn" id="newQuote">
                            <i class="fas fa-paw"></i> New Motivation
                        </button>
                    </div>
                </div>

                <div class="card">
                    <h2><i class="fas fa-sticky-note"></i> Purr-sonal Notes</h2>
                    <div class="notes-container">
                        <div class="note-input">
                            <textarea id="noteInput" placeholder="Add a new note..."></textarea>
                        </div>
                        <div class="sticker-picker">
                            <div class="sticker" data-sticker="üê±">üê±</div>
                            <div class="sticker" data-sticker="üêæ">üêæ</div>
                            <div class="sticker" data-sticker="üò∏">üò∏</div>
                            <div class="sticker" data-sticker="üòª">üòª</div>
                            <div class="sticker" data-sticker="üôÄ">üôÄ</div>
                        </div>
                        <input type="file" id="imageUpload" accept="image/*" style="display: none;">
                        <button class="btn btn-secondary" id="addImageBtn">
                            <i class="fas fa-image"></i> Add Image
                        </button>
                        <button class="btn" id="addNote">
                            <i class="fas fa-plus"></i> Add Note
                        </button>
                        <div class="notes-list" id="notesList">
                            <!-- Notes will be added here dynamically -->
                        </div>
                    </div>
                </div>
            </div>

            <div class="features">
                <div class="card feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-cat"></i>
                    </div>
                    <h3>Cat Facts</h3>
                    <p>Discover amazing facts about our feline friends!</p>
                    <button class="btn" id="catFactsPageBtn" style="margin-top: 15px;">
                        <i class="fas fa-paw"></i> Explore Cat Facts
                    </button>
                </div>

                <div class="card feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <h3>Kitty Jump</h3>
                    <p>Play a fun jumping game with cute kitties!</p>
                    <button class="btn" id="gameBtn" style="margin-top: 15px;">
                        <i class="fas fa-paw"></i> Play Game
                    </button>
                </div>

                <div class="card feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-palette"></i>
                    </div>
                    <h3>Themes</h3>
                    <p>Switch between Royal Orange and Spooky Blue themes!</p>
                </div>
            </div>
        </div>

        <!-- Registration Page -->
        <div class="auth-container" id="registerContainer">
            <div class="auth-card">
                <h2>Join Paw-sitive Vibes <span class="cat-emoji">üê±</span></h2>
                <p>Create an account to save your notes and preferences!</p>
                
                <form id="registerForm">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" placeholder="Enter your username" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" placeholder="Enter your email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" placeholder="Create a password" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="confirmPassword">Confirm Password</label>
                        <input type="password" id="confirmPassword" placeholder="Confirm your password" required>
                    </div>
                    
                    <button type="submit" class="btn" style="width: 100%;">
                        <i class="fas fa-paw"></i> Create Account
                    </button>
                </form>
                
                <div class="form-footer">
                    <div class="auth-link">
                        Already have an account? <a href="#" id="loginLink">Login here</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Login Page -->
        <div class="auth-container" id="loginContainer">
            <div class="auth-card">
                <h2>Welcome Back! <span class="cat-emoji">üò∫</span></h2>
                <p>Login to access your saved notes and preferences</p>
                
                <form id="loginForm">
                    <div class="form-group">
                        <label for="loginEmail">Email</label>
                        <input type="email" id="loginEmail" placeholder="Enter your email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" placeholder="Enter your password" required>
                    </div>
                    
                    <button type="submit" class="btn" style="width: 100%;">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </button>
                </form>
                
                <div class="form-footer">
                    <div class="auth-link">
                        Don't have an account? <a href="#" id="registerLink">Register here</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Page -->
        <div class="dashboard-container" id="dashboardContainer">
            <div class="dashboard-header">
                <h1>Your Dashboard <span class="cat-emoji">üìä</span></h1>
                <p class="subtitle">View all your saved notes and activities</p>
                <button class="btn back-btn" id="backToMain">
                    <i class="fas fa-arrow-left"></i> Back to Main
                </button>
            </div>

            <div class="dashboard-notes" id="dashboardNotes">
                <!-- User notes will be displayed here -->
            </div>
        </div>

        <!-- Kitty Jump Game -->
        <div class="game-container" id="gameContainer">
            <div class="game-header">
                <h1>Kitty Jump Game <span class="cat-emoji">üê±</span></h1>
                <p class="subtitle">Jump over obstacles and score points!</p>
                <button class="btn back-btn" id="backFromGame">
                    <i class="fas fa-arrow-left"></i> Back to Main
                </button>
            </div>

            <div class="score-display">
                <div class="score">Score: <span id="score">0</span></div>
                <div class="high-score">High Score: <span id="highScore">0</span></div>
            </div>
            
            <div class="game-area">
                <div id="kitty">üò∏</div>
                <div class="ground"></div>
                <div class="game-over" id="gameOver">
                    <h2>Game Over!</h2>
                    <p>Your score: <span id="finalScore">0</span></p>
                    <div class="avatar-selector">
                        <div class="avatar-options" id="avatarOptions">
                            <!-- Avatar options will be added here -->
                        </div>
                    </div>
                    <button class="btn btn-success" id="playAgainBtn" style="margin-top: 15px;">
                        <i class="fas fa-redo"></i> Play Again
                    </button>
                </div>
                <!-- Obstacles will be added dynamically -->
            </div>

            <div class="game-controls">
                <button class="btn" id="playBtn">
                    <i class="fas fa-play"></i> Start Game
                </button>
                <button class="btn" id="jumpBtn" disabled>
                    <i class="fas fa-arrow-up"></i> Jump!
                </button>
            </div>

            <div class="game-instructions">
                <h3>How to Play:</h3>
                <ul>
                    <li>Click "Start Game" to begin</li>
                    <li>Press the "Jump!" button or SPACE key to make the kitty jump</li>
                    <li>Avoid the obstacles coming from the right</li>
                </ul>
            </div>
        </div>

        <!-- Cat Facts Page -->
        <div class="facts-container" id="factsContainer">
            <div class="facts-header">
                <h1>Amazing Cat Facts <span class="cat-emoji">üò∫</span></h1>
                <p class="subtitle">Discover fascinating facts about our feline friends!</p>
                <button class="btn back-btn" id="backFromFacts">
                    <i class="fas fa-arrow-left"></i> Back to Main
                </button>
            </div>

            <div class="cat-decorations">
                <div class="cat-decoration">üê±</div>
                <div class="cat-decoration">üò∏</div>
                <div class="cat-decoration">üòª</div>
                <div class="cat-decoration">üôÄ</div>
                <div class="cat-decoration">üêæ</div>
            </div>

            <div class="fact-card">
                <div class="fact-text" id="currentFact">
                    Cats have five toes on their front paws, but only four on their back paws.
                </div>
                <div class="fact-controls">
                    <button class="btn" id="newFactBtn">
                        <i class="fas fa-paw"></i> New Fact
                    </button>
                </div>
            </div>

            <div class="cat-decorations">
                <div class="cat-decoration">üò∫</div>
                <div class="cat-decoration">üòæ</div>
                <div class="cat-decoration">üêà</div>
                <div class="cat-decoration">üòΩ</div>
                <div class="cat-decoration">üê±</div>
            </div>
        </div>
    </div>

    <footer>
        <p>Made by SUSHIüëª with <i class="fas fa-heart" style="color: var(--accent);"></i> and <i class="fas fa-paw" style="color: var(--primary);"></i> | Paw-sitive Vibes ¬© 2025</p>
    </footer>

    <script>
        // Motivational quotes array
        const quotes = [
            "You are capable of amazing things.",
            "Every day is a new beginning. Take a deep breath and start again.",
            "Your positive action combined with positive thinking results in success.",
            "It's not whether you get knocked down, it's whether you get up.",
            "Believe you can and you're halfway there.",
            "The only way to do great work is to love what you do.",
            "Don't watch the clock; do what it does. Keep going.",
            "You are enough just as you are.",
            "The future belongs to those who believe in the beauty of their dreams.",
            "You're off to great places. Today is your day!",
            "In the middle of every difficulty lies opportunity.",
            "You can't go back and change the beginning, but you can start where you are and change the ending.",
            "Keep your face always toward the sunshine, and shadows will fall behind you.",
            "What lies behind us and what lies before us are tiny matters compared to what lies within us.",
            "The only limit to our realization of tomorrow will be our doubts of today."
        ];

        // Cat facts array
        const catFacts = [
            "Cats have five toes on their front paws, but only four on their back paws.",
            "A group of cats is called a clowder.",
            "Cats can rotate their ears 180 degrees.",
            "A cat's nose print is unique, much like a human's fingerprint.",
            "Cats spend approximately 30% of their waking hours grooming themselves.",
            "Cats have a special reflective layer in their eyes called the tapetum lucidum, which improves night vision.",
            "The world's oldest cat lived to be 38 years old!",
            "Cats can make over 100 different vocal sounds.",
            "A cat's whiskers are roughly as wide as its body, helping them gauge whether they can fit through spaces.",
            "Cats have a third eyelid called the haw that helps protect their eyes.",
            "A cat's purr may have healing properties and can reduce stress in both the cat and its human.",
            "Cats can jump up to six times their length.",
            "Cats have scent glands on their cheeks and paws that they use to mark their territory.",
            "A cat's hearing is better than a dog's, and they can hear high-frequency sounds up to two octaves higher than humans.",
            "The richest cat in the world had ¬£7 million left to him by his owner in 1988.",
            "Cats sleep for 70% of their lives.",
            "A cat's brain is 90% similar to a human's brain.",
            "Cats have 32 muscles in each ear.",
            "Cats can't taste sweetness.",
            "A cat's purr vibrates at a frequency of 25 to 150 hertz."
        ];

        // Cat avatars and their unlock scores
        const catAvatars = [
            { emoji: "üò∏", score: 0, name: "Happy Cat" },
            { emoji: "üò∫", score: 5, name: "Grinning Cat" },
            { emoji: "üòª", score: 10, name: "Heart Eyes Cat" },
            { emoji: "üôÄ", score: 15, name: "Weary Cat" },
            { emoji: "üòæ", score: 20, name: "Pouting Cat" },
            { emoji: "üêà", score: 25, name: "Cat" },
            { emoji: "üê±", score: 30, name: "Cat Face" },
            { emoji: "üëë", score: 40, name: "Crown Cat" }
        ];

        // DOM Elements
        const themeToggle = document.getElementById('themeToggle');
        const newQuoteBtn = document.getElementById('newQuote');
        const quoteElement = document.getElementById('quote');
        const noteInput = document.getElementById('noteInput');
        const addNoteBtn = document.getElementById('addNote');
        const notesList = document.getElementById('notesList');
        const catFactsPageBtn = document.getElementById('catFactsPageBtn');
        const mainContent = document.getElementById('mainContent');
        const registerContainer = document.getElementById('registerContainer');
        const loginContainer = document.getElementById('loginContainer');
        const registerForm = document.getElementById('registerForm');
        const loginForm = document.getElementById('loginForm');
        const loginLink = document.getElementById('loginLink');
        const registerLink = document.getElementById('registerLink');
        const userInfo = document.getElementById('userInfo');
        const userAvatar = document.getElementById('userAvatar');
        const userName = document.getElementById('userName');
        const logoutBtn = document.getElementById('logoutBtn');
        const welcomeMessage = document.getElementById('welcomeMessage');
        const dashboardBtn = document.getElementById('dashboardBtn');
        const dashboardContainer = document.getElementById('dashboardContainer');
        const backToMain = document.getElementById('backToMain');
        const dashboardNotes = document.getElementById('dashboardNotes');
        const stickers = document.querySelectorAll('.sticker');
        const addImageBtn = document.getElementById('addImageBtn');
        const imageUpload = document.getElementById('imageUpload');
        const gameBtn = document.getElementById('gameBtn');
        const gameContainer = document.getElementById('gameContainer');
        const backFromGame = document.getElementById('backFromGame');
        const kitty = document.getElementById('kitty');
        const playBtn = document.getElementById('playBtn');
        const jumpBtn = document.getElementById('jumpBtn');
        const scoreElement = document.getElementById('score');
        const highScoreElement = document.getElementById('highScore');
        const finalScoreElement = document.getElementById('finalScore');
        const gameOverScreen = document.getElementById('gameOver');
        const playAgainBtn = document.getElementById('playAgainBtn');
        const avatarOptions = document.getElementById('avatarOptions');
        const factsContainer = document.getElementById('factsContainer');
        const backFromFacts = document.getElementById('backFromFacts');
        const currentFact = document.getElementById('currentFact');
        const newFactBtn = document.getElementById('newFactBtn');
        const floatingElements = document.getElementById('floatingElements');

        // User state
        let currentUser = null;
        let userNotes = [];
        let selectedSticker = null;
        let selectedImage = null;

        // Game state
        let gameScore = 0;
        let highScore = 0;
        let isJumping = false;
        let gameActive = false;
        let obstacleInterval;
        let obstacles = [];
        let gameSpeed = 5;
        let currentCatAvatar = catAvatars[0];

        // Speech synthesis for game sounds
        const speech = window.speechSynthesis;
        
        function speak(text) {
            if (speech.speaking) return;
            
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 1.2;
            utterance.pitch = 1.5;
            utterance.volume = 0.7;
            speech.speak(utterance);
        }

        // Theme Toggle
        let isSpookyTheme = false;
        themeToggle.addEventListener('click', () => {
            isSpookyTheme = !isSpookyTheme;
            if (isSpookyTheme) {
                document.body.classList.add('spooky-theme');
                document.body.classList.remove('game-theme');
                document.body.classList.remove('facts-theme');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i> Switch to Royal Orange';
                createFloatingGhosts();
            } else {
                document.body.classList.remove('spooky-theme');
                document.body.classList.remove('game-theme');
                document.body.classList.remove('facts-theme');
                themeToggle.innerHTML = '<i class="fas fa-moon"></i> Switch to Spooky Blue';
                createCrownedCats();
            }
            
            // Save theme preference if user is logged in
            if (currentUser) {
                saveUserData();
            }
        });

        // New Quote
        newQuoteBtn.addEventListener('click', () => {
            const randomIndex = Math.floor(Math.random() * quotes.length);
            quoteElement.textContent = `"${quotes[randomIndex]}"`;
            
            // Add a subtle animation
            quoteElement.style.opacity = '0';
            setTimeout(() => {
                quoteElement.style.opacity = '1';
            }, 300);
        });

        // Sticker selection
        stickers.forEach(sticker => {
            sticker.addEventListener('click', () => {
                // Remove active class from all stickers
                stickers.forEach(s => s.style.border = 'none');
                // Add active class to selected sticker
                sticker.style.border = '2px solid var(--accent)';
                selectedSticker = sticker.getAttribute('data-sticker');
            });
        });

        // Image upload
        addImageBtn.addEventListener('click', () => {
            imageUpload.click();
        });

        imageUpload.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    selectedImage = event.target.result;
                };
                reader.readAsDataURL(file);
            }
        });

        // Add Note
        addNoteBtn.addEventListener('click', () => {
            const noteText = noteInput.value.trim();
            if (noteText || selectedSticker || selectedImage) {
                addNoteToList(noteText, selectedSticker, selectedImage);
                noteInput.value = '';
                selectedSticker = null;
                selectedImage = null;
                imageUpload.value = '';
                
                // Remove active sticker border
                stickers.forEach(s => s.style.border = 'none');
                
                // Save notes if user is logged in
                if (currentUser) {
                    saveUserData();
                }
            }
        });

        // Function to add note to list
        function addNoteToList(text, sticker, image) {
            const noteId = Date.now(); // Unique ID for each note
            
            const noteItem = document.createElement('div');
            noteItem.className = 'note-item';
            noteItem.dataset.noteId = noteId;
            
            const noteContent = document.createElement('div');
            noteContent.className = 'note-text';
            
            if (sticker) {
                const stickerElement = document.createElement('span');
                stickerElement.textContent = sticker + ' ';
                stickerElement.style.fontSize = '1.5rem';
                noteContent.appendChild(stickerElement);
            }
            
            if (text) {
                const textElement = document.createElement('span');
                textElement.textContent = text;
                noteContent.appendChild(textElement);
            }
            
            if (image) {
                const imgElement = document.createElement('img');
                imgElement.src = image;
                imgElement.className = 'image-preview';
                noteContent.appendChild(imgElement);
            }
            
            const deleteBtn = document.createElement('button');
            deleteBtn.className = 'delete-note';
            deleteBtn.innerHTML = '<i class="fas fa-times"></i>';
            deleteBtn.addEventListener('click', () => {
                // Remove from DOM
                noteItem.remove();
                
                // Remove from userNotes array
                const noteIndex = userNotes.findIndex(note => note.id === noteId);
                if (noteIndex > -1) {
                    userNotes.splice(noteIndex, 1);
                    saveUserData();
                }
            });
            
            noteItem.appendChild(noteContent);
            noteItem.appendChild(deleteBtn);
            notesList.appendChild(noteItem);
            
            // Store note in userNotes array with ID
            if (currentUser) {
                userNotes.push({
                    id: noteId,
                    text: text,
                    sticker: sticker,
                    image: image,
                    element: noteItem
                });
            }
        }

        // Registration
        registerForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (password !== confirmPassword) {
                alert("Passwords don't match!");
                return;
            }
            
            // In a real app, you would send this to a server
            // For this demo, we'll just store in localStorage
            const users = JSON.parse(localStorage.getItem('pawUsers')) || [];
            
            // Check if user already exists
            if (users.find(user => user.email === email)) {
                alert("User with this email already exists!");
                return;
            }
            
            // Create new user
            const newUser = {
                id: Date.now(),
                username,
                email,
                password, // In a real app, this should be hashed!
                theme: 'royal-orange',
                notes: [],
                highScore: 0,
                unlockedAvatars: ["üò∏"],
                selectedAvatar: "üò∏"
            };
            
            users.push(newUser);
            localStorage.setItem('pawUsers', JSON.stringify(users));
            localStorage.setItem('currentUser', newUser.id);
            
            // Log the user in
            loginUser(newUser);
        });

        // Login
        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            const users = JSON.parse(localStorage.getItem('pawUsers')) || [];
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                localStorage.setItem('currentUser', user.id);
                loginUser(user);
            } else {
                alert("Invalid email or password!");
            }
        });

        // Login user function
        function loginUser(user) {
            currentUser = user;
            userNotes = user.notes || [];
            highScore = user.highScore || 0;
            currentCatAvatar = catAvatars.find(avatar => avatar.emoji === user.selectedAvatar) || catAvatars[0];
            
            // Update UI
            userInfo.style.display = 'flex';
            userName.textContent = user.username;
            userAvatar.textContent = user.username.charAt(0).toUpperCase();
            welcomeMessage.textContent = `Welcome back, ${user.username}! Get your daily dose of motivation üòä`;
            highScoreElement.textContent = highScore;
            
            // Show main content, hide auth forms
            mainContent.style.display = 'block';
            registerContainer.style.display = 'none';
            loginContainer.style.display = 'none';
            
            // Load user's theme
            if (user.theme === 'spooky-blue') {
                document.body.classList.add('spooky-theme');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i> Switch to Royal Orange';
                createFloatingGhosts();
            } else {
                document.body.classList.remove('spooky-theme');
                themeToggle.innerHTML = '<i class="fas fa-moon"></i> Switch to Spooky Blue';
                createCrownedCats();
            }
            
            // Load user's notes
            loadUserNotes();
        }

        // Logout
        logoutBtn.addEventListener('click', () => {
            currentUser = null;
            userNotes = [];
            localStorage.removeItem('currentUser');
            
            // Update UI
            userInfo.style.display = 'none';
            mainContent.style.display = 'none';
            registerContainer.style.display = 'block';
            
            // Clear notes list
            notesList.innerHTML = '';
        });

        // Navigation between auth forms
        loginLink.addEventListener('click', (e) => {
            e.preventDefault();
            registerContainer.style.display = 'none';
            loginContainer.style.display = 'block';
        });

        registerLink.addEventListener('click', (e) => {
            e.preventDefault();
            loginContainer.style.display = 'none';
            registerContainer.style.display = 'block';
        });

        // Dashboard navigation
        dashboardBtn.addEventListener('click', () => {
            mainContent.style.display = 'none';
            dashboardContainer.style.display = 'block';
            displayDashboardNotes();
        });

        backToMain.addEventListener('click', () => {
            dashboardContainer.style.display = 'none';
            mainContent.style.display = 'block';
        });

        // Display notes in dashboard
        function displayDashboardNotes() {
            dashboardNotes.innerHTML = '';
            
            if (userNotes.length === 0) {
                dashboardNotes.innerHTML = '<p>No notes yet. Start adding some notes on the main page!</p>';
                return;
            }
            
            userNotes.forEach(note => {
                const noteElement = document.createElement('div');
                noteElement.className = 'dashboard-note';
                noteElement.dataset.noteId = note.id;
                
                let noteContent = '';
                if (note.sticker) {
                    noteContent += `<div style="font-size: 2rem;">${note.sticker}</div>`;
                }
                if (note.text) {
                    noteContent += `<p>${note.text}</p>`;
                }
                if (note.image) {
                    noteContent += `<img src="${note.image}" class="image-preview">`;
                }
                
                noteElement.innerHTML = noteContent;
                
                // Add delete button to dashboard note
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'dashboard-delete-note';
                deleteBtn.innerHTML = '<i class="fas fa-times"></i>';
                deleteBtn.addEventListener('click', () => {
                    // Remove from dashboard
                    noteElement.remove();
                    
                    // Remove from main notes list
                    const mainNoteElement = document.querySelector(`.note-item[data-note-id="${note.id}"]`);
                    if (mainNoteElement) {
                        mainNoteElement.remove();
                    }
                    
                    // Remove from userNotes array
                    const noteIndex = userNotes.findIndex(n => n.id === note.id);
                    if (noteIndex > -1) {
                        userNotes.splice(noteIndex, 1);
                        saveUserData();
                    }
                });
                
                noteElement.appendChild(deleteBtn);
                dashboardNotes.appendChild(noteElement);
            });
        }

        // Load user notes
        function loadUserNotes() {
            notesList.innerHTML = '';
            userNotes.forEach(noteData => {
                // Recreate note elements with proper IDs
                const noteItem = document.createElement('div');
                noteItem.className = 'note-item';
                noteItem.dataset.noteId = noteData.id;
                
                const noteContent = document.createElement('div');
                noteContent.className = 'note-text';
                
                if (noteData.sticker) {
                    const stickerElement = document.createElement('span');
                    stickerElement.textContent = noteData.sticker + ' ';
                    stickerElement.style.fontSize = '1.5rem';
                    noteContent.appendChild(stickerElement);
                }
                
                if (noteData.text) {
                    const textElement = document.createElement('span');
                    textElement.textContent = noteData.text;
                    noteContent.appendChild(textElement);
                }
                
                if (noteData.image) {
                    const imgElement = document.createElement('img');
                    imgElement.src = noteData.image;
                    imgElement.className = 'image-preview';
                    noteContent.appendChild(imgElement);
                }
                
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'delete-note';
                deleteBtn.innerHTML = '<i class="fas fa-times"></i>';
                deleteBtn.addEventListener('click', () => {
                    // Remove from main list
                    noteItem.remove();
                    
                    // Remove from dashboard if it exists
                    const dashboardNote = document.querySelector(`.dashboard-note[data-note-id="${noteData.id}"]`);
                    if (dashboardNote) {
                        dashboardNote.remove();
                    }
                    
                    // Remove from userNotes array
                    const noteIndex = userNotes.findIndex(note => note.id === noteData.id);
                    if (noteIndex > -1) {
                        userNotes.splice(noteIndex, 1);
                        saveUserData();
                    }
                });
                
                noteItem.appendChild(noteContent);
                noteItem.appendChild(deleteBtn);
                notesList.appendChild(noteItem);
                
                // Update the element reference in userNotes
                noteData.element = noteItem;
            });
        }

        // Save user data to localStorage
        function saveUserData() {
            if (!currentUser) return;
            
            const users = JSON.parse(localStorage.getItem('pawUsers')) || [];
            const userIndex = users.findIndex(u => u.id === currentUser.id);
            
            if (userIndex > -1) {
                // Update user data
                users[userIndex].theme = isSpookyTheme ? 'spooky-blue' : 'royal-orange';
                users[userIndex].notes = userNotes.map(note => ({
                    id: note.id,
                    text: note.text,
                    sticker: note.sticker,
                    image: note.image
                }));
                users[userIndex].highScore = highScore;
                users[userIndex].unlockedAvatars = currentUser.unlockedAvatars;
                users[userIndex].selectedAvatar = currentCatAvatar.emoji;
                
                localStorage.setItem('pawUsers', JSON.stringify(users));
                currentUser = users[userIndex];
            }
        }

        // Create floating crowned cats
        function createCrownedCats() {
            floatingElements.innerHTML = '';
            const catCount = 12;
            for (let i = 0; i < catCount; i++) {
                const cat = document.createElement('div');
                cat.className = 'crowned-cat';
                cat.innerHTML = 'üê±';
                cat.style.left = `${Math.random() * 100}%`;
                cat.style.animationDelay = `${Math.random() * 20}s`;
                cat.style.fontSize = `${Math.random() * 1 + 1.5}rem`;
                floatingElements.appendChild(cat);
            }
        }

        // Create floating ghosts for spooky theme
        function createFloatingGhosts() {
            floatingElements.innerHTML = '';
            const ghostCount = 15;
            for (let i = 0; i < ghostCount; i++) {
                const ghost = document.createElement('div');
                ghost.className = 'ghost';
                ghost.innerHTML = 'üëª';
                ghost.style.left = `${Math.random() * 100}%`;
                ghost.style.animationDelay = `${Math.random() * 20}s`;
                ghost.style.fontSize = `${Math.random() * 1 + 1.5}rem`;
                floatingElements.appendChild(ghost);
            }
        }

        // Create pink cats for facts theme
        function createPinkCats() {
            floatingElements.innerHTML = '';
            const catCount = 15;
            for (let i = 0; i < catCount; i++) {
                const cat = document.createElement('div');
                cat.className = 'pink-cat';
                cat.innerHTML = 'üê±';
                cat.style.left = `${Math.random() * 100}%`;
                cat.style.animationDelay = `${Math.random() * 20}s`;
                cat.style.fontSize = `${Math.random() * 1 + 1.5}rem`;
                floatingElements.appendChild(cat);
            }
        }

        // Game navigation
        gameBtn.addEventListener('click', () => {
            mainContent.style.display = 'none';
            gameContainer.style.display = 'block';
            document.body.classList.add('game-theme');
            document.body.classList.remove('facts-theme');
            resetGame();
            updateAvatarSelector();
        });

        backFromGame.addEventListener('click', () => {
            gameContainer.style.display = 'none';
            mainContent.style.display = 'block';
            document.body.classList.remove('game-theme');
            stopGame();
            
            // Restore previous theme
            if (isSpookyTheme) {
                document.body.classList.add('spooky-theme');
            } else {
                document.body.classList.remove('spooky-theme');
            }
        });

        // Cat Facts Page navigation
        catFactsPageBtn.addEventListener('click', () => {
            mainContent.style.display = 'none';
            factsContainer.style.display = 'block';
            document.body.classList.add('facts-theme');
            document.body.classList.remove('game-theme');
            showRandomFact();
            createPinkCats();
        });

        backFromFacts.addEventListener('click', () => {
            factsContainer.style.display = 'none';
            mainContent.style.display = 'block';
            document.body.classList.remove('facts-theme');
            
            // Restore previous theme
            if (isSpookyTheme) {
                document.body.classList.add('spooky-theme');
            } else {
                document.body.classList.remove('spooky-theme');
            }
        });

        // ==================== GAME CODE ====================
        
        // Game functions
        function resetGame() {
            gameScore = 0;
            gameActive = false;
            updateScore();
            kitty.style.bottom = '50px';
            gameOverScreen.style.display = 'none';
            kitty.textContent = currentCatAvatar.emoji;
            
            // Remove all obstacles
            obstacles.forEach(obstacle => obstacle.remove());
            obstacles = [];
            
            // Reset button states
            playBtn.disabled = false;
            jumpBtn.disabled = true;
        }
        
        function startGame() {
            gameActive = true;
            playBtn.disabled = true;
            jumpBtn.disabled = false;
            
            // Start generating obstacles
            obstacleInterval = setInterval(createObstacle, 1500);
            
            // Add keyboard controls
            document.addEventListener('keydown', handleKeyPress);
            
            speak("Let's play! Jump over the yarn balls!");
        }
        
        function stopGame() {
            gameActive = false;
            clearInterval(obstacleInterval);
            
            // Remove keyboard controls
            document.removeEventListener('keydown', handleKeyPress);
        }
        
        function handleKeyPress(e) {
            if ((e.code === 'Space' || e.key === ' ') && gameActive) {
                e.preventDefault();
                jump();
            }
        }
        
        playBtn.addEventListener('click', startGame);
        jumpBtn.addEventListener('click', jump);
        
        function jump() {
            if (!isJumping && gameActive) {
                isJumping = true;
                kitty.style.bottom = '150px';
                
                setTimeout(() => {
                    kitty.style.bottom = '50px';
                    isJumping = false;
                }, 500);
            }
        }
        
        function createObstacle() {
            if (!gameActive) return;
            
            const obstacle = document.createElement('div');
            obstacle.className = 'obstacle';
            obstacle.innerHTML = 'üß∂';
            obstacle.style.right = '0px';
            document.querySelector('.game-area').appendChild(obstacle);
            obstacles.push(obstacle);
            
            let obstaclePosition = 0;
            
            const moveObstacle = () => {
                if (!gameActive) return;
                
                obstaclePosition += gameSpeed;
                obstacle.style.right = `${obstaclePosition}px`;
                
                // Get positions for collision detection
                const kittyRect = kitty.getBoundingClientRect();
                const obstacleRect = obstacle.getBoundingClientRect();
                
                // SIMPLE COLLISION DETECTION - This will definitely work!
                const collision = !(
                    kittyRect.right < obstacleRect.left ||
                    kittyRect.left > obstacleRect.right ||
                    kittyRect.bottom < obstacleRect.top ||
                    kittyRect.top > obstacleRect.bottom
                );
                
                if (collision) {
                    // COLLISION DETECTED - STOP THE GAME
                    gameOver();
                    return;
                }
                
                // Check if obstacle passed the kitty (for scoring)
                if (obstaclePosition > 100 && obstaclePosition < 110) {
                    gameScore++;
                    updateScore();
                    checkAvatarUnlock();
                }
                
                // Remove obstacle when it goes off screen
                if (obstaclePosition > 800) {
                    obstacle.remove();
                    obstacles = obstacles.filter(obs => obs !== obstacle);
                } else {
                    requestAnimationFrame(moveObstacle);
                }
            };
            
            moveObstacle();
        }
        
        // Check for new avatar unlocks
        function checkAvatarUnlock() {
            const newAvatar = catAvatars.find(avatar => 
                avatar.score === gameScore && 
                !currentUser.unlockedAvatars.includes(avatar.emoji)
            );
            
            if (newAvatar) {
                currentUser.unlockedAvatars.push(newAvatar.emoji);
                updateAvatarSelector();
                speak(`New cat avatar unlocked! ${newAvatar.name}`);
                
                // Save user data
                saveUserData();
            }
        }
        
        // Update avatar selector
        function updateAvatarSelector() {
            avatarOptions.innerHTML = '';
            
            catAvatars.forEach(avatar => {
                const avatarOption = document.createElement('div');
                avatarOption.className = 'avatar-option';
                avatarOption.textContent = avatar.emoji;
                avatarOption.title = avatar.name;
                
                if (currentUser.unlockedAvatars.includes(avatar.emoji)) {
                    if (avatar.emoji === currentCatAvatar.emoji) {
                        avatarOption.classList.add('selected');
                    }
                    avatarOption.addEventListener('click', () => {
                        // Remove selected class from all avatars
                        document.querySelectorAll('.avatar-option').forEach(opt => {
                            opt.classList.remove('selected');
                        });
                        // Add selected class to clicked avatar
                        avatarOption.classList.add('selected');
                        currentCatAvatar = avatar;
                        kitty.textContent = avatar.emoji;
                        
                        // Save user data
                        saveUserData();
                    });
                } else {
                    avatarOption.classList.add('locked');
                    avatarOption.title = `Unlock at ${avatar.score} points`;
                }
                
                avatarOptions.appendChild(avatarOption);
            });
        }
        
        function gameOver() {
            if (!gameActive) return;
            
            stopGame();
            
            // Update high score
            if (gameScore > highScore) {
                highScore = gameScore;
                highScoreElement.textContent = highScore;
                speak(`New high score! ${highScore} points!`);
            } else {
                speak(`Game over! You scored ${gameScore} points!`);
            }
            
            finalScoreElement.textContent = gameScore;
            gameOverScreen.style.display = 'block';
            
            // Save user data
            if (currentUser) {
                saveUserData();
            }
        }
        
        function updateScore() {
            scoreElement.textContent = gameScore;
        }

        // Play Again button
        playAgainBtn.addEventListener('click', () => {
            resetGame();
            startGame();
        });

        // Cat Facts Page Functions
        function showRandomFact() {
            const randomIndex = Math.floor(Math.random() * catFacts.length);
            currentFact.textContent = catFacts[randomIndex];
            
            // Add a subtle animation
            currentFact.style.opacity = '0';
            setTimeout(() => {
                currentFact.style.opacity = '1';
            }, 300);
        }

        newFactBtn.addEventListener('click', showRandomFact);

        // Initialize the page
        function init() {
            createCrownedCats();
            
            // Check if user is already logged in
            const currentUserId = localStorage.getItem('currentUser');
            if (currentUserId) {
                const users = JSON.parse(localStorage.getItem('pawUsers')) || [];
                const user = users.find(u => u.id == currentUserId);
                if (user) {
                    loginUser(user);
                    return;
                }
            }
            
            // Show registration form by default
            registerContainer.style.display = 'block';
        }

        // Run initialization
        init();
    </script>
</body>
</html>